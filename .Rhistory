# Load dependencies
library(plotly)
library(dplyr)
# Use state data as example data set
df <- as.data.frame(state.x77)
# Create plotly object
p <- plot_ly(df, type="scatter", mode="markers", x = ~Population, y = ~Income, color = ~Illiteracy)
# Build plotly object
plotly_build(p)
# Make state names column 1
df_names <- add_rownames(df, "State")
# Remove spaces from column names
names(df_names)[5] <- "LifeExp"
names(df_names)[7] <- "HSGrad"
# Create scatter plot with trace
p_trace <- plot_ly(df_names, type="scatter", mode="markers",
x = ~Population,
y = ~Income,
text = df_names$State,
color = ~LifeExp)
# Build plot
plotly_build(p_trace)
library(plotly)
df <- read.csv('https://raw.githubusercontent.com/plotly/datasets/master/2015_06_30_precipitation.csv')
# change default color scale title
m <- list(colorbar = list(title = "Total Inches"))
# geo styling
g <- list(
scope = 'north america',
showland = TRUE,
landcolor = toRGB("grey83"),
subunitcolor = toRGB("white"),
countrycolor = toRGB("white"),
showlakes = TRUE,
lakecolor = toRGB("white"),
showsubunits = TRUE,
showcountries = TRUE,
resolution = 50,
projection = list(
type = 'conic conformal',
rotation = list(lon = -100)
),
lonaxis = list(
showgrid = TRUE,
gridwidth = 0.5,
range = c(-140, -55),
dtick = 5
),
lataxis = list(
showgrid = TRUE,
gridwidth = 0.5,
range = c(20, 60),
dtick = 5
)
)
p <- plot_geo(df, lat = ~Lat, lon = ~Lon, color = ~Globvalue) %>%
add_markers(
text = ~paste(df$Globvalue, "inches"), hoverinfo = "text"
) %>%
layout(title = 'US Precipitation 06-30-2015<br>Source: NOAA', geo = g)
plotly_build(p)
library(plotly)
df <- read.csv('https://raw.githubusercontent.com/plotly/datasets/master/2015_06_30_precipitation.csv')
# change default color scale title
m <- list(colorbar = list(title = "Total Inches"))
# geo styling
g <- list(
scope = 'north america',
showland = TRUE,
landcolor = toRGB("grey83"),
subunitcolor = toRGB("white"),
countrycolor = toRGB("white"),
showlakes = TRUE,
lakecolor = toRGB("white"),
showsubunits = TRUE,
showcountries = TRUE,
resolution = 50,
projection = list(
type = 'conic conformal',
rotation = list(lon = -100)
),
lonaxis = list(
showgrid = TRUE,
gridwidth = 0.5,
range = c(-140, -55),
dtick = 5
),
lataxis = list(
showgrid = TRUE,
gridwidth = 0.5,
range = c(20, 60),
dtick = 5
)
)
p <- plot_geo(df, lat = ~Lat, lon = ~Lon, color = ~Globvalue) %>%
add_markers(
text = ~paste(df$Globvalue, "inches"
) %>%
layout(title = 'US Precipitation 06-30-2015<br>Source: NOAA', geo = g)
plotly_build(p)
library(plotly)
df <- read.csv('https://raw.githubusercontent.com/plotly/datasets/master/2015_06_30_precipitation.csv')
# change default color scale title
m <- list(colorbar = list(title = "Total Inches"))
# geo styling
g <- list(
scope = 'north america',
showland = TRUE,
landcolor = toRGB("grey83"),
subunitcolor = toRGB("white"),
countrycolor = toRGB("white"),
showlakes = TRUE,
lakecolor = toRGB("white"),
showsubunits = TRUE,
showcountries = TRUE,
resolution = 50,
projection = list(
type = 'conic conformal',
rotation = list(lon = -100)
),
lonaxis = list(
showgrid = TRUE,
gridwidth = 0.5,
range = c(-140, -55),
dtick = 5
),
lataxis = list(
showgrid = TRUE,
gridwidth = 0.5,
range = c(20, 60),
dtick = 5
)
)
p <- plot_geo(df, lat = ~Lat, lon = ~Lon, color = ~Globvalue) %>%
add_markers(
text = ~paste(df$Globvalue, "inches")
) %>%
layout(title = 'US Precipitation 06-30-2015<br>Source: NOAA', geo = g)
plotly_build(p)
